<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Приложения</title>
    <link rel="icon" type="image/x-icon" th:href="@{/images/favicon.png}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/menu.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/apps.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="use-credentials"/>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&#38;display=swap" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="use-credentials"/>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans+Condensed:wght@300&#38;display=swap" rel="stylesheet"/>
</head>
<body>
<div th:insert="~{components/menu :: content}"></div>
<div class="apps">
    <div class="apps__container">
        <div class="apps__list">
            <div class="apps__list__header">
                <p class="apps__list__header__text">Приложения</p>
                <p class="apps__list__header__add">
                    <a th:href="@{/apps/add}"><i class="material-icons small">add</i></a>
                </p>
            </div>
            <div th:if="${!apps.isEmpty()}" class="apps__list__table">
                <th:block th:each="app : ${apps}">
                    <div class="apps__list__table__app">
                        <p class="apps__list__table__app__title">
                            <span th:text="${app.id()}"></span>
                            <a class="apps__list__table__app__action hidden"
                               th:href="@{/apps/{appId}/update(appId=${app.id()})}">
                                <i class="material-icons prefix apps__list__table__app__icon">edit</i>
                            </a>
                            <a class="apps__list__table__app__action hidden"
                               th:href="@{/apps/{appId}/delete(appId=${app.id()})}">
                                <i class="material-icons prefix apps__list__table__app__icon">delete</i>
                            </a>
                        </p>
                        <p class="apps__list__table__app__text__time" th:text="${app.creationTime()}"></p>
                    </div>
                </th:block>
            </div>
            <p th:if="${apps.isEmpty()}" class="apps__list__table_empty">Список пуст</p>
        </div>
    </div>
</div>
<div class="pagination">
    <a class="pagination__element" th:classappend="${currentPage > 1 ? '' : 'invisible'}"
       th:href="@{/apps?page={page}(page=${currentPage - 1})}">&laquo;</a>
    <a class="pagination__element"
          th:each="i : ${#numbers.sequence(1, pageAmount, 1)}"
          th:text="${i}"
          th:href="@{/apps?page={page}(page=${i})}"
          th:classappend="${i == currentPage ? 'active' : ''}">
    </a>
    <a class="pagination__element"
       th:classappend="${currentPage < pageAmount ? '' : 'invisible'}"
       th:href="@{/apps?page={page}(page=${currentPage + 1})}">&raquo;</a>
</div>
<script type="text/javascript" th:src="@{/js/apps.js}"></script>
</body>
</html>
